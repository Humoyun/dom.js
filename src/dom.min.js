/**
 * DOM.js is a lightweight & fast cross browser library for
 * dom traversal and manipulation.
 *
 * @author Dawid Kraczowski <crac>
 * @license MIT
 */
(function(t,n,r){function i(e,t){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(e,t)}for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){return typeof e==="string"}function u(e){return typeof e==="object"}function a(e){return e&&typeof e==="object"&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})}function f(e){if(g.isNode(e)||g.isElement(e)){return false}return a(e)||s(e)||typeof e==="object"&&e["length"]!==r&&e.length>0}function l(e,i){if(typeof t.getComputedStyle==="function"){return t.getComputedStyle(e)[i]}else if(typeof n.currentStyle!==r){return e.currentStyle[i]}return e.style[i]}function c(e,t){if(s(e)||typeof e==="object"&&e["length"]!==r){for(var n=0,i=e.length;n<i;n++){t.apply(e[n],[e[n],n])}return}if(a(e)){for(var o in e){t.apply(e[o],[e[o],o])}}}function N(e){var t=new g.Event(e);x=t;c(E,function(e){e.call(null,t)})}function C(e){var t=new g.Event(e);T=t;c(S,function(e){e.call(null,t)})}var h=n.addEventListener?"addEventListener":"attachEvent",p=n.removeEventListener?"removeEventListener":"detachEvent",d=n.addEventListener?"":"on",v=n.createEvent?"createEvent":"createEventObject",m=n.dispatchEvent?"dispatchEvent":"fireEvent",g={},y=function(e){return e};var b=navigator.userAgent;var w=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})");if(w.exec(b)!=null){rv=parseFloat(RegExp.$1);if(rv==4){y=function(e){for(var t=/-([a-z0-9])/;t.test(e);e=e.replace(t,RegExp.$1.toUpperCase()));return e}}}var E=[];var S=[];var x=false;var T=false;g.isElement=function(e){if(typeof HTMLElement==="object"){return e instanceof HTMLElement}return e&&typeof e==="object"&&e.nodeType===1&&typeof e.nodeName==="string"};g.isNode=function(e){if(typeof Node==="object"){return e instanceof Node}return e&&typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"};g.Event=function(e){var t=e;g.Event.prototype.stopPropagation=function(){if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}};g.Event.prototype.preventDefault=function(){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}};g.Event.prototype.event=function(){return t};this.target=t.target||t.srcElement;this.ctrlKey=t.ctrlKey;this.shiftKey=t.shiftKey;this.altKey=t.altKey;this.relativeY=t.layerY||t.offsetY;this.relativeX=t.layerX||t.offsetX;this.x=t.x||t.clientX;this.y=t.y||t.clientY};g.Event.ON_CLICK="click";g.Event.ON_DBLCLICK="dblclick";g.Event.ON_CONTEXTMENU="contextmenu";g.Event.ON_MOUSEDOWN="mousedown";g.Event.ON_MOUSEENTER="mouseenter";g.Event.ON_MOUSELEAVE="mouseleave";g.Event.OM_MOUSEMOVE="mousemove";g.Event.ON_MOUSEOVER="mouseover";g.Event.ON_MOUSEOUT="mouseout";g.Event.ON_MOUSEUP="mouseup";g.Event.ON_MOUSEMOVE="mousemove";g.Event.ON_KEYDOWN="keydown";g.Event.ON_KEYUP="keyup";g.Event.ON_KEYPRESS="keypress";g.Event.ON_SELECT="select";g.Event.ON_RESET="reset";g.Event.ON_FOCUS="focus";g.Event.ON_BLUR="blur";g.Event.ON_SUBMIT="submit";g.Event.ON_CHANGE="change";g.Event.ON_LOAD="load";g.Event.ON_UNLOAD="unload";g.Event.ON_RESIZE="resize";g.Event.ON_UNLOAD="unload";g.Event.ON_ERROR="error";g.Event.ON_SCROLL="scroll";g.Event.ON_DRAG="drag";g.Event.ON_DRAGSTART="dragstart";g.Event.ON_DRAGEND="dragend";g.Event.ON_DRAGENTER="dragenter";g.Event.ON_DRAGLEAVE="dragleave";g.Event.ON_DRAGOVER="dragover";g.Event.ON_DROP="drop";g.addListener=function(e,t,n){if(e===r){return false}if(f(e)){c(e,function(e,r){g.addListener(e,t,n)});return g}if(!g.isNode(e)){console.error(e+"is not a DOMNode type",e);throw new Error(e+" is not a DOMNode object")}e._event=e._event||{};e._event[t]=e._event[t]||{keys:[],values:[]};if(i(e._event[t].keys,n)!=-1){return g}e._event[t].keys.push(n);var s=function(t){var r=new g.Event(t);if(n.call(e,r)===false){t.stop()}};e._event[t].values.push(s);e[h](d+t,s);return g};g.dispatch=function(e,t,i){if(e===r){return false}if(f(e)){c(e,function(e,n){g.dispatch(e,t,i)});return g}if(!i){i={}}var s={type:t,view:i.view||e.ownerDocument.defaultView,detail:i.detail||1,screenX:i.screenX||0,screenY:i.screenY||0,clientX:i.clientX||0,clientY:i.clientY||0,button:i.button||0,ctrlKey:i.ctrlKey||false,altKey:i.altKey||false,shiftKey:i.shiftKey||false,metaKey:i.metaKey||false,bubbles:i.bubbles||true,cancelable:i.cancelable||true};var o={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};var u="Event";var a;for(var l in o){if(o[l].test(t)){u=l;break}}if(n.createEvent){a=e.ownerDocument.createEvent(u);if(u=="MouseEvents"){a.initMouseEvent(s.type,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,0,null)}else{a.initEvent(t,s.bubbles,s.cancelable)}e.dispatchEvent(a);return g}else if(n.createEventObject){s.clientX=s.pointerX;s.clientY=s.pointerY;a=n.createEventObject();for(var h in s){a[h]=s[h]}e.fireEvent(d+t,a);return g}};g.removeListener=function(e,t,n){if(e===r){return false}if(f(e)){c(e,function(e,r){g.removeListener(e,t,n)});return g}if(!e._event||!e._event[t]){return false}var s=i(e._event[t].keys,n);if(s===-1){return false}var o=e._event[t].values[s];e[p](d+t,o);delete e._event[t].values[s];delete e._event[t].keys[s];return g};g.hasListener=function(e,t,n){if(!e._event||!e._event[t]){return false}return i(e._event[t].keys,n)!==-1};g.onClick=function(e,t){return g.addListener(e,g.Event.ON_CLICK,t)};g.onDblClick=function(e,t){return g.addListener(e,g.Event.ON_DBLCLICK,t)};g.onMouseOver=function(e,t){return g.addListener(e,g.Event.ON_MOUSEOVER,t)};g.onMouseOut=function(e,t){return g.addListener(e,g.Event.ON_MOUSEOUT,t)};g.onMouseDown=function(e,t){return g.addListener(e,g.Event.ON_MOUSEDOWN,t)};g.onMouseUp=function(e,t){return g.addListener(e,g.Event.ON_MOUSEUP,t)};g.onMouseEnter=function(e,t){return g.addListener(e,g.Event.ON_MOUSEENTER,t)};g.onMouseLeave=function(e,t){return g.addListener(e,g.Event.ON_MOUSELEAVE,t)};g.onMouseMove=function(e,t){return g.addListener(e,g.Event.ON_MOUSEMOVE,t)};g.onDrag=function(e,t){return g.addListener(e,g.Event.ON_DRAG,t)};g.onDragStart=function(e,t){return g.addListener(e,g.Event.ON_DRAGSTART,t)};g.onDragEnd=function(e,t){return g.addListener(e,g.Event.ON_DRAGEND,t)};g.onFocus=function(e,t){return g.addListener(e,g.Event.ON_FOCUS,t)};g.onBlur=function(e,t){return g.addListener(e,g.Event.ON_BLUR,t)};g.onSelect=function(e,t){return g.addListener(e,g.Event.ON_SELECT,t)};g.onChange=function(e,t){return g.addListener(e,g.Event.ON_CHANGE,t)};g.onSubmit=function(e,t){return g.addListener(e,g.Event.ON_SUBMIT,t)};g.onReset=function(e,t){return g.addListener(e,g.Event.ON_RESET,t)};g.onLoad=function(e,t){return g.addListener(e,g.Event.ON_LOAD,t)};g.onScroll=function(e,t){return g.addListener(e,g.Event.ON_SCROLL,t)};g.onUnload=function(e,t){return g.addListener(e,g.Event.ON_UNLOAD,t)};g.onResize=function(e,t){return g.addListener(e,g.Event.ON_RESIZE,t)};g.onKeyDown=function(e,t){return g.addListener(e,g.Event.ON_KEYDOWN,t)};g.onKeyUp=function(e,t){return g.addListener(e,g.Event.ON_KEYUP,t)};g.onKeyPress=function(e,t){return g.addListener(e,g.Event.ON_KEYPRESS,t)};g.find=function(e,t){if(g.isNode(t)){return t.querySelectorAll(e)}return n.querySelectorAll(e)};g.id=function(e){return n.getElementById(e)};g.findByTagName=function(e){return n.getElementsByTagName(e)};g.findByClass=function(e){if(e.substring(0,1)=="."){e=e.substring(1)}if(n.getElementsByClassName){return n.getElementsByClassName(e)}if(n.querySelector&&n.querySelectorAll){return n.querySelectorAll("."+e)}};g.parent=function(e){return e.parentNode};g.children=function(e,t){if(typeof t==="boolean"&&t){return e.childNodes}var n=[];if(o(t)){for(var r=0,i=e.childNodes.length;r<i;r++){if(e.childNodes[r].nodeName.toLowerCase()===t.toLowerCase()){n.push(e.childNodes[r])}}return n}for(var r in e.childNodes){if(e.childNodes[r].nodeType===1){n.push(e.childNodes[r])}}return n};g.next=function(e){var t=e.nextSibling;if(t.nodeType!=1){return g.next(t)}return t};g.previous=function(e){var t=e.previousSibling;if(t.nodeType!=1){return g.previous(t)}return t};g.attribute=function(e,t){if(typeof t==="string"){var n;if(t==="class"&&e["className"]!==r){n=e.className}else if(t==="for"&&e["htmlFor"]!==r){n=e.htmlFor}else if(t==="value"&&e["value"]!==r){n=e.value}else{n=e.getAttribute(t)}if(n===""){n=null}return n}if(s(t)){var n={};for(var i in t){n[t[i]]=g.attribute(e,t[i])}return n}if(a(t)){for(var i in t){if(t[i]===null){e.removeAttribute(i)}else{e.setAttribute(i,t[i])}}return t}return false};g.css=function(e,t){if(f(e)&&a(t)){c(e,function(e){g.css(e,t)});return g}if(typeof t==="string"){return l(e,y(t))}if(s(t)){var n={};for(var r in t){n[t[r]]=l(e,y(t[r]))}return n}if(a(t)){for(var r in t){e.style[y(r)]=t[r]}return t}return false};g.getClass=function(e){if(e===r){return false}var t=g.attribute(e,"class");if(!t){return[]}t=t.split(" ");var n=[];for(var i in t){if(t[i]===""){continue}n.push(t[i])}return n};g.hasClass=function(e,t){if(e===r){return false}if(o(t)){return i(g.getClass(e),t)>-1?true:false}else if(s(t)){var n=g.getClass(e);for(var u in t){if(i(t[u],n)===-1){return false}}return true}else{return false}return false};g.addClass=function(e,t){if(e===r){return false}if(f(e)){c(e,function(e){g.addClass(e,t)});return g}if(s(t)){for(var n in t){g.addClass(e,t[n])}return g}var o=g.getClass(e);if(i(o,t)===-1){o.push(t)}o=o.join(" ");return g.attribute(e,{"class":o})};g.removeClass=function(t,n){if(t===r){return}if(f(t)){c(t,function(){g.removeClass(e,n)});return g}var s=g.getClass(t);var o=i(s,n);if(o===-1){return}s.splice(o,1);return g.attribute(t,{"class":s.join(" ")})};g.create=function(e){var t=n.createElement("div");var r=n.createDocumentFragment();g.html(t,e);var i=g.children(t);for(var s=0,o=i.length;s<o;s++){g.append(r,i[s])}return r};g.copy=function(e){return e.cloneNode(true)};g.html=function(e,t){if(o(t)){e.innerHTML=t;return t}return e.innerHTML};g.text=function(e,t){if(o(t)){if(e.innerText){e.innerText=t}else{e.textContent=t}return t}if(e.innerText){return e.innerText}return e.textContent};g.append=function(e,t){if(o(t)){t=g.create(t)}e.appendChild(t);return t};g.prepend=function(e,t){if(o(t)){t=g.create(t)}e.insertBefore(t,e.firstChild);return t};g.after=function(e,t){if(o(t)){t=g.create(t)}e.parentNode.insertBefore(t,e.nextSibling);return t};g.before=function(e,t){if(o(t)){t=g.create(t)}e.insertBefore(t,e);return t};g.replace=function(e,t){if(o(t)){t=g.create(t)}e.parentNode.replaceChild(t,e);return t};g.remove=function(e){var t=e.parentNode;return t.removeChild(e)};g.loaded=function(e){if(T!==false){e.call(null,T);return g}S.push(e);return g};g.ready=function(e){if(x!==false){e.call(null,x);return g}E.push(e);return g};if(t.onload!==null){S.push(t.onload)}t.onload=C;if(h==="attachEvent"){n[h]("onreadystatechange",function(e){if(n.readyState==="complete"){n[p]("onreadystatechange",arguments.callee);N(e)}})}else{n[h]("DOMContentLoaded",function(e){n[p]("DOMContentLoaded",arguments.callee,false);N(e)},false)}t.Dom=g})(this,document)